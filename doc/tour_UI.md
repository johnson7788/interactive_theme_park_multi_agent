# 🎠 阿派朗创造力乐园

## 用户交互前端 UI 设计文档（游客端）

版本：v1.0
编制时间：2025-10-12
适用团队：UI设计师、前端开发Next.js + TypeScript + TailwindCSS
设备环境：打卡终端

---

## 一、设计目标与原则

### 🎯 目标

* 为儿童（4~10岁）提供可理解、可感知、可参与的AI互动体验。
* 通过**NPC对话、任务提示、奖励反馈**，实现“边玩边学”的乐园探索系统。
* 打通手环打卡、任务系统、奖励兑换的前端交互逻辑。

### 💡 设计原则

| 原则  | 说明                          |
| --- | --------------------------- |
| 直观性 | 让儿童可以通过图像、语音理解任务内容，不依赖复杂文字。 |
| 友好感 | 使用吉祥物形象（如“小河狸咔咔”）和拟人化语气。    |
| 动画化 | 所有奖励、任务提示都有动画反馈，增加仪式感。      |
| 无障碍 | 支持语音播报、文字字幕同步。              |
| 模块化 | 每个Agent的对话、任务、奖励显示在独立模块中。   |

---

## 二、用户典型使用场景

| 场景     | 用户行为          | 系统响应                  |
| ------ | ------------- | --------------------- |
| 初次打卡   | 小朋友用手环触碰打卡点   | 系统识别ID，加载对应Agent实例与任务 |
| 与NPC对话 | 小朋友听取或点击NPC语音 | 前端播放语音并显示文字对话         |
| 获取任务   | 系统展示任务卡       | 显示任务目标、奖励类型、剩余次数      |
| 完成任务   | 小朋友完成小游戏或问答   | 弹出奖励动画与积分提示           |
| 导流引导   | NPC提示前往下一个站点  | 地图或方向箭头浮层指引           |
| 查看奖励   | 小朋友打开“我的奖励”页面 | 显示星能、福袋、特惠券等记录        |

---

## 三、信息架构（IA）

**主界面分区结构：**

1. 🏠 欢迎页（入口动画 + 打卡识别）
2. 💬 NPC对话页（核心交互界面）
3. 🗺️ 任务与奖励页（查看任务状态）
4. 🏆 奖励动画页（任务完成反馈）
5. 🧭 下一步引导页（去往下一个点）

---

## 四、核心界面设计说明

---

### 🏠 1. 欢迎页（打卡识别界面）

**功能：**

* 展示打卡点欢迎动画；
* 显示识别到的用户昵称、角色；
* 进入对应NPC交互场景。

**布局结构：**

* 顶部：打卡点名（如“科学岛入口站”）
* 中部：卡通动画（Agent头像、打卡特效）
* 底部按钮：“开始对话” / 自动跳转倒计时

**交互动效：**

* 手环识别成功 → 出现“星星旋转”动画
* NPC头像渐入（伴随欢迎语）
* 若无操作3秒 → 自动跳转到NPC对话页

---

### 💬 2. NPC对话页（核心交互界面）

**功能：**

* 展示NPC与用户的对话；
* 显示语音播放动画；
* 支持任务触发与奖励展示。

**布局设计：**

* 顶部栏：

  * 左侧：NPC头像（圆形动态边框发光）
  * 中间：NPC名（如“小河狸咔咔”）
  * 右侧：语音播报开关（按钮）

* 中间内容区（聊天气泡区）：

  * NPC对话（蓝色气泡 + 表情图）
  * 用户回应（黄色气泡，可预设简单选项）
  * 对话内容最大显示6条，超出自动滚动

* 底部交互区：

  * 若当前任务存在 → 显示“任务卡浮层”
  * 若任务完成 → 弹出“奖励浮层”

**样式建议：**

| 元素    | 样式说明                      |
| ----- | ------------------------- |
| 背景    | 柔和渐变背景（#E9F6FF → #FDF8E4） |
| NPC气泡 | #2E90FA + 圆角20px          |
| 用户气泡  | #FFCD4B + 圆角20px          |
| 字体    | 幼圆体 / 思源黑体 Bold           |
| 动画    | NPC说话时头像嘴巴动画+音波律动         |

**语音同步逻辑：**

* 播放NPC语音 → 高亮对应气泡文字；
* 点击气泡可重复播放。

---

### 🗺️ 3. 任务与奖励页（任务中心）

**功能：**

* 展示当前任务状态、奖励进度；
* 提示下一个打卡点。

**模块划分：**

* 顶部：用户信息卡（昵称、积分、星能值）
* 中部：任务列表（卡片滑动式）

  * 每个卡片显示：任务名 + 状态图标（未完成 / 已完成）
  * 点击卡片 → 查看任务详情页
* 底部：前往下一个任务按钮（导航浮层）

**任务卡样式：**

| 状态  | 颜色      | 图标 |
| --- | ------- | -- |
| 进行中 | #2E90FA | ⏳  |
| 完成  | #67C23A | ✅  |
| 未解锁 | #C0C4CC | 🔒 |

---

### 🏆 4. 奖励动画页（任务完成反馈）

**功能：**

* 动画展示奖励类型；
* 同步音效与语音提示。

**设计要点：**

* 动画层级最高，全屏覆盖；
* 奖励图标动态旋转 + 闪光粒子特效；
* 语音播报示例：

  > “恭喜你获得5点星能！快去下一个站点看看吧！”

**视觉参考：**

* 星能奖励：发光星球环绕动画
* 福袋奖励：袋子打开飘出礼物
* 特惠券奖励：票券翻转展示

**按钮：**

* “继续探险” → 返回任务列表
* “去兑换中心” → 打开奖励页

---

### 🧭 5. 下一步引导页

**功能：**

* 显示NPC指引的下一个互动点；
* 支持地图简图或箭头方向。

**内容示例：**

> 咔咔：太棒了！接下来去“机械岛”的小树屋找我吧！

**UI结构：**

* 中部插画：乐园小地图 + 闪烁目标点
* 底部浮层：下一步任务简述 + 按钮
* “开启导航”按钮 → 可触发播放方向语音或地图高亮

---

## 五、辅助界面与组件

| 模块        | 功能       | UI说明     |
| --------- | -------- | -------- |
| 🌟 奖励浮层   | 任务完成后弹出  | 小窗+动画    |
| 🗂️ 历史对话页 | 可回看NPC互动 | 滑动查看历史记录 |
| 🔊 语音开关   | 控制TTS播报  | 图标状态切换   |
| ⏱️ 计时器组件  | 限时任务展示   | 动态倒计时环   |
| 📍 地点提示条  | 当前所在区域提示 | 固定底栏显示   |

---

## 六、动画与动效规范

| 动效类型 | 场景    | 说明           |
| ---- | ----- | ------------ |
| 渐入动画 | 页面切换  | 0.4s 透明→实显   |
| 弹跳动画 | 奖励浮层  | 缓动Easing-out |
| 发光呼吸 | NPC头像 | 音频播放中同步      |
| 粒子特效 | 奖励获得时 | 粒子向上漂浮       |
| 滚动过渡 | 聊天气泡  | 自动滚动到最新消息    |

---

## 七、全局UI风格规范

| 项目   | 参数                   |
| ---- | -------------------- |
| 主色   | #2E90FA（科技蓝）         |
| 辅色   | #FFCD4B（阳光黄）         |
| 背景   | #F7F9FB（柔和白）         |
| 字体   | 幼圆体 / 思源黑体           |
| 字号   | 大标题 28px / 正文 18px   |
| 图标   | Lucide + 定制表情        |
| 圆角   | 20px（按钮与卡片）          |
| 阴影   | 轻柔阴影 rgba(0,0,0,0.1) |
| 动画时间 | 0.3~0.5s             |

---

## 八、语音与儿童适配

* 所有文字同时配有语音输出；
* NPC语气要童趣、有节奏感；
* 支持暂停/重播；
* 字体颜色对比强，避免过亮背景；
* 动画节奏不超过每秒2次闪烁（防止视觉刺激）。

---

## 九、Figma输出要求

| 输出项   | 内容                  |
| ----- | ------------------- |
| 页面设计稿 | 欢迎页、对话页、任务页、奖励页、引导页 |
| 组件库   | 按钮、气泡、卡片、奖励动画       |
| 样式表   | 颜色、字体、边距、动画时长       |
| 动效说明  | 每个动画的触发条件、持续时间      |
| 响应式说明 | 终端适配（10寸终端 / 手机屏）   |

---

## 十、前后端接口对应参考

| 模块   | 接口路径                  | 用途            |
| ---- | --------------------- | ------------- |
| 打卡识别 | `/api/agent/start`    | 初始化Agent与用户绑定 |
| 对话获取 | `/api/agent/interact` | 拉取对话内容与奖励信息   |
| 任务列表 | `/api/user/tasks`     | 获取当前任务与进度     |
| 奖励记录 | `/api/user/rewards`   | 查询获得的奖励       |
| 导航信息 | `/api/agent/next`     | 获取下一站点提示      |

---

## 十一、用户体验目标

| 指标      | 目标            |
| ------- | ------------- |
| 首次加载时间  | ≤ 3s          |
| NPC语音延迟 | ≤ 0.8s        |
| 儿童理解度   | ≥ 95%（基于语音测试） |
| 动画满意度   | ≥ 90%（儿童评估反馈） |
